let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function o(e){let t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types})).catch((function(e){console.error(e)}))}const n=e=>{const t=document.querySelector("#pokemon-modal-label"),o=document.querySelector(".modal-body");t.textContent=e.name,o.innerHTML=`\n      <img src="${e.imageUrl}">\n      <p>Height: ${e.height}</p>\n      <p>Types: ${e.types.map((({type:e})=>e.name)).join(", ")}</p>\n    `,$("#pokemon-modal").modal("show")},r=e=>{o(e).then((()=>{console.log(e),n(e)}))};return{add:t,getAll:function(){return e},addListItem:function(e){let t=document.getElementById("pokemon-container");t||(t=document.createElement("div"),t.id="pokemon-container",document.body.appendChild(t));let o=document.createElement("button"),n=document.createElement("span");n.innerHTML=e.name.charAt(0).toUpperCase()+e.name.slice(1),o.appendChild(n),o.classList.add("button","button-primary"),o.setAttribute("id",e.name),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemon-modal"),t.appendChild(o),pokemonRepository.addEventListenerToButton(o,e)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=500").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){let o={name:e.name,detailsUrl:e.url};t(o),console.log(o)}))})).catch((function(e){console.error(e)}))},loadDetails:o,showDetails:r,showModal:n,search:function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))||null},addEventListenerToButton:function(e,t){e.addEventListener("click",(function(){r(t)}))}}}();const searchInput=document.querySelector("#search-input"),searchButton=document.querySelector("#search-button");searchButton.addEventListener("click",(function(e){e.preventDefault();const t=searchInput.value;let o=pokemonRepository.search(t);if(o){console.log(`Found Pokemon that matches '${t}':`),pokemonRepository.showDetails(o);document.querySelectorAll(".pokemon-container").forEach((e=>{e.textContent.toLowerCase()!==t.toLowerCase()&&e.remove()}))}else console.log(`No Pokemon found that matches '${t}'`)})),pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));